---
import Layout from "@/layouts/Layout.astro";
import { PROJECTS, TAGS } from "@/data/projects";
const { slug } = Astro.params;
const project = PROJECTS.find((p) => p.slug === slug);

if (!project) {
  throw new Error("Proyecto no encontrado");
}
---

<Layout title={project.title} description={project.description}>
  <main class="px-4 py-20 max-w-5xl mx-auto space-y-12">
    <h1 class="text-4xl font-bold text-center">{project.title}</h1>

    <!-- Galería de imágenes -->
    <div class="grid gap-4 sm:grid-cols-2">
      {
        project.imagesDetail.map((img) => (
          <img src={img} alt={project.title} class="rounded-xl object-cover" />
        ))
      }
    </div>

    <!-- Descripción -->
    <p class="text-lg text-gray-700 dark:text-gray-300">{project.description}</p>

    <!-- Tecnologías -->
    <div class="flex flex-wrap gap-3">
      {
        project.tags.map((key) => {
          const tag = TAGS[key];
          return (
            <span class={`flex items-center gap-2 text-sm ${tag.class} px-3 py-1 rounded-full`}>
              <tag.icon class="size-4" />
              {tag.name}
            </span>
          )
        })
      }
    </div>

    <!-- Enlaces -->
    <div class="flex gap-4 mt-4">
      {
        project.github && (
          <a href={project.github} target="_blank" class="text-blue-600 hover:underline">
            Ver código
          </a>
        )
      }
      {
        project.link && (
          <a href={project.link} target="_blank" class="text-blue-600 hover:underline">
            Ver demo
          </a>
        )
      }
    </div>
  </main>
</Layout>
